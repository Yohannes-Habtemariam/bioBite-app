{"ast":null,"code":"import _slicedToArray from\"/home/user/Desktop/flys/DCI_final/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{NavLink}from\"react-router-dom\";//import AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\nimport{MyContext}from\"../../../App\";import{useNavigate}from\"react-router-dom\";import\"../navbar/styleDesktop.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DesktopNav(props){var navigate=useNavigate();var _useContext=useContext(MyContext),user=_useContext.user,setUser=_useContext.setUser,setIsLoggedIn=_useContext.setIsLoggedIn,isLoggedIn=_useContext.isLoggedIn,setToken=_useContext.setToken,setCart=_useContext.setCart;// STATE VARIABLES -----------------------------------------\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),logOutButton=_useState2[0],setLogOutButton=_useState2[1];// SHOW / HIDE *LOGOUT BUTTON* -----> function to set the opposite state to show or hide the logout button.\n// will be given to the user icon as per:\n// <AccountCircleIcon onClick={handleClick}> -------------------------------------------------------------\nvar handleClick=function handleClick(event){setLogOutButton(function(current){return!current;});};// FUNCTION TO LOGOUT \nvar logOut=function logOut(){localStorage.clear();setUser(null);setIsLoggedIn(false);setToken(null);setCart([]);navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"desktopNav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linkWrapper\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"howitworks\",style:function style(_ref){var isActive=_ref.isActive;return{textDecoration:isActive&&\"underline\"};},children:\"How it works\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/meals\",style:function style(_ref2){var isActive=_ref2.isActive;return{textDecoration:isActive&&\"underline\"};},children:\" Meals\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/sustainability\",style:function style(_ref3){var isActive=_ref3.isActive;return{textDecoration:isActive&&\"underline\"};},children:\"Sustainability\"}),/*#__PURE__*/_jsx(NavLink,{className:props.isLoggedIn===false?\"hide\":\"cartPage\",to:\"/cart\",style:function style(_ref4){var isActive=_ref4.isActive;return{textDecoration:isActive&&\"underline\"};},children:\"Cart\"})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:props.isLoggedIn===true?\"hide\":\"logInButton\",children:\"Login\"})}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{className:props.isLoggedIn===true?\"hide\":\"regButton\",children:\"Register\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:props.isLoggedIn===true?\"showUserIcon\":\"hide\",children:/*#__PURE__*/_jsx(\"button\",{onClick:logOut,className:\"logoutButton\",children:\"Logout\"})})]});}","map":{"version":3,"names":["React","useState","useContext","NavLink","MyContext","useNavigate","DesktopNav","props","navigate","user","setUser","setIsLoggedIn","isLoggedIn","setToken","setCart","logOutButton","setLogOutButton","handleClick","event","current","logOut","localStorage","clear","isActive","textDecoration"],"sources":["/home/user/Desktop/flys/DCI_final/front-end/src/components/globalComponents/navbar/DesktopNav.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n//import AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\nimport { MyContext } from \"../../../App\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../navbar/styleDesktop.scss\";\n\nexport default function DesktopNav(props) {\n\n  let navigate = useNavigate();\n  const { user, setUser, setIsLoggedIn, isLoggedIn, setToken, setCart } =\n    useContext(MyContext);\n\n  // STATE VARIABLES -----------------------------------------\n  const [logOutButton, setLogOutButton] = useState(false);\n\n  // SHOW / HIDE *LOGOUT BUTTON* -----> function to set the opposite state to show or hide the logout button.\n  // will be given to the user icon as per:\n  // <AccountCircleIcon onClick={handleClick}> -------------------------------------------------------------\n  const handleClick = (event) => {\n    setLogOutButton((current) => !current);\n  };\n\n  // FUNCTION TO LOGOUT \n  const logOut = () => {\n    localStorage.clear();\n    setUser(null);\n    setIsLoggedIn(false);\n    setToken(null);\n    setCart([]);\n    navigate(\"/\");\n  };\n  return (\n    <div className=\"desktopNav\">\n      {/* Links */}\n      <div className=\"linkWrapper\">\n        <NavLink to=\"howitworks\" style={({ isActive }) => ({\n          textDecoration: isActive && \"underline\"})}>How it works</NavLink>\n\n        <NavLink to=\"/meals\" style={({ isActive }) => ({\n          textDecoration: isActive && \"underline\"})}> Meals</NavLink>\n\n        <NavLink to=\"/sustainability\" style={({ isActive }) => ({\n          textDecoration: isActive && \"underline\"})}>Sustainability</NavLink>\n        \n        <NavLink className={props.isLoggedIn === false ? \"hide\" : \"cartPage\"} to=\"/cart\" style={({ isActive }) => ({\n          textDecoration: isActive && \"underline\"})}>\n          Cart\n        </NavLink>\n      </div>\n\n      {/* Login and register button */}\n      <span>\n        <NavLink to=\"/login\">\n          <button\n            className={props.isLoggedIn === true ? \"hide\" : \"logInButton\"}>\n            Login\n          </button>\n        </NavLink>\n        <NavLink to=\"/register\">\n          <button className={props.isLoggedIn === true ? \"hide\" : \"regButton\"}>\n            Register\n          </button>\n        </NavLink>\n      </span>\n\n      {/* display name of user & user Icon */}\n      <div className={props.isLoggedIn === true ? \"showUserIcon\" : \"hide\"}>\n        {/* display name of user */}\n        {/* <p>Hello {user && user.firstName} </p> */}\n        <button onClick={logOut} className=\"logoutButton\">\n          Logout\n        </button>\n\n        {/* display user icon & logout button*/}\n        {/* <AccountCircleIcon onClick={handleClick} style={{ fontSize: 50 }} /> */}\n\n        {/* display log-out button */}\n        {/* ------ this is one way how to render a component based on the state variable */}\n        {/* {logOutButton && (\n          <button onClick={logOut} className=\"logoutButton\">\n            Logout\n          </button>\n        )} */}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"iIAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA;AACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,6BAAP,C,wFAEA,cAAe,SAASC,WAAT,CAAoBC,KAApB,CAA2B,CAExC,GAAIC,SAAQ,CAAGH,WAAW,EAA1B,CACA,gBACEH,UAAU,CAACE,SAAD,CADZ,CAAQK,IAAR,aAAQA,IAAR,CAAcC,OAAd,aAAcA,OAAd,CAAuBC,aAAvB,aAAuBA,aAAvB,CAAsCC,UAAtC,aAAsCA,UAAtC,CAAkDC,QAAlD,aAAkDA,QAAlD,CAA4DC,OAA5D,aAA4DA,OAA5D,CAGA;AACA,cAAwCb,QAAQ,CAAC,KAAD,CAAhD,wCAAOc,YAAP,eAAqBC,eAArB,eAEA;AACA;AACA;AACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC7BF,eAAe,CAAC,SAACG,OAAD,QAAa,CAACA,OAAd,EAAD,CAAf,CACD,CAFD,CAIA;AACA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBC,YAAY,CAACC,KAAb,GACAZ,OAAO,CAAC,IAAD,CAAP,CACAC,aAAa,CAAC,KAAD,CAAb,CACAE,QAAQ,CAAC,IAAD,CAAR,CACAC,OAAO,CAAC,EAAD,CAAP,CACAN,QAAQ,CAAC,GAAD,CAAR,CACD,CAPD,CAQA,mBACE,aAAK,SAAS,CAAC,YAAf,wBAEE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,OAAD,EAAS,EAAE,CAAC,YAAZ,CAAyB,KAAK,CAAE,wBAAGe,SAAH,MAAGA,QAAH,OAAmB,CACjDC,cAAc,CAAED,QAAQ,EAAI,WADqB,CAAnB,EAAhC,0BADF,cAIE,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,KAAK,CAAE,yBAAGA,SAAH,OAAGA,QAAH,OAAmB,CAC7CC,cAAc,CAAED,QAAQ,EAAI,WADiB,CAAnB,EAA5B,oBAJF,cAOE,KAAC,OAAD,EAAS,EAAE,CAAC,iBAAZ,CAA8B,KAAK,CAAE,yBAAGA,SAAH,OAAGA,QAAH,OAAmB,CACtDC,cAAc,CAAED,QAAQ,EAAI,WAD0B,CAAnB,EAArC,4BAPF,cAUE,KAAC,OAAD,EAAS,SAAS,CAAEhB,KAAK,CAACK,UAAN,GAAqB,KAArB,CAA6B,MAA7B,CAAsC,UAA1D,CAAsE,EAAE,CAAC,OAAzE,CAAiF,KAAK,CAAE,yBAAGW,SAAH,OAAGA,QAAH,OAAmB,CACzGC,cAAc,CAAED,QAAQ,EAAI,WAD6E,CAAnB,EAAxF,kBAVF,GAFF,cAmBE,qCACE,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,uBACE,eACE,SAAS,CAAEhB,KAAK,CAACK,UAAN,GAAqB,IAArB,CAA4B,MAA5B,CAAqC,aADlD,mBADF,EADF,cAOE,KAAC,OAAD,EAAS,EAAE,CAAC,WAAZ,uBACE,eAAQ,SAAS,CAAEL,KAAK,CAACK,UAAN,GAAqB,IAArB,CAA4B,MAA5B,CAAqC,WAAxD,sBADF,EAPF,GAnBF,cAkCE,YAAK,SAAS,CAAEL,KAAK,CAACK,UAAN,GAAqB,IAArB,CAA4B,cAA5B,CAA6C,MAA7D,uBAGE,eAAQ,OAAO,CAAEQ,MAAjB,CAAyB,SAAS,CAAC,cAAnC,oBAHF,EAlCF,GADF,CAuDD"},"metadata":{},"sourceType":"module"}